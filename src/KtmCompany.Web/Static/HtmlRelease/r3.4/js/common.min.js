/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports) {

	"use strict";
	
	/**
	 * Created by ha.do on 2/4/2016.
	 */
	var currentVideoSource;
	var is_safari = navigator.userAgent.indexOf("Safari") > -1 && navigator.userAgent.indexOf("Mac") > -1;
	var mouseovertimeout;
	var counterSections = [{ sel: ".last-price", format: "" }, { sel: ".ebit", format: "" }, { sel: ".revenue", format: "" }, { sel: ".report-downloader", format: "" }, { sel: ".titles", format: "" }, { sel: ".brands", format: "" }, { sel: ".wins", format: "" }, { sel: ".years", format: "" }, { sel: ".years-of-history", format: "" }, { sel: ".parts", format: "" }, { sel: ".employees", format: "thousand" }, { sel: ".bikes-sold", format: "" }];
	var isFirstLoad = true;
	
	/*==========================================*/
	
	function number_format(number, decimals, dec_point, thousands_sep) {
	    // *     example 1: number_format(1234.56);
	    // *     returns 1: '1,235'
	    // *     example 2: number_format(1234.56, 2, ',', ' ');
	    // *     returns 2: '1 234,56'
	    // *     example 3: number_format(1234.5678, 2, '.', '');
	    // *     returns 3: '1234.57'
	    // *     example 4: number_format(67, 2, ',', '.');
	    // *     returns 4: '67,00'
	    // *     example 5: number_format(1000);
	    // *     returns 5: '1,000'
	    // *     example 6: number_format(67.311, 2);
	    // *     returns 6: '67.31'
	    // *     example 7: number_format(1000.55, 1);
	    // *     returns 7: '1,000.6'
	    // *     example 8: number_format(67000, 5, ',', '.');
	    // *     returns 8: '67.000,00000'
	    // *     example 9: number_format(0.9, 0);
	    // *     returns 9: '1'
	    // *    example 10: number_format('1.20', 2);
	    // *    returns 10: '1.20'
	    // *    example 11: number_format('1.20', 4);
	    // *    returns 11: '1.2000'
	    // *    example 12: number_format('1.2000', 3);
	    // *    returns 12: '1.200'
	    var n = !isFinite(+number) ? 0 : +number,
	        prec = !isFinite(+decimals) ? 0 : Math.abs(decimals),
	        sep = typeof thousands_sep === 'undefined' ? '.' : thousands_sep,
	        dec = typeof dec_point === 'undefined' ? ',' : dec_point,
	        toFixedFix = function toFixedFix(n, prec) {
	        // Fix for IE parseFloat(0.55).toFixed(0) = 0;
	        var k = Math.pow(10, prec);
	        return Math.round(n * k) / k;
	    },
	        s = (prec ? toFixedFix(n, prec) : Math.round(n)).toString().split('.');
	    if (s[0].length > 3) {
	        s[0] = s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g, sep);
	    }
	    if ((s[1] || '').length < prec) {
	        s[1] = s[1] || '';
	        s[1] += new Array(prec - s[1].length + 1).join('0');
	    }
	    return s.join(dec);
	}
	
	/*=========================================*/
	
	function animatedBottomLineNavigation() {
	    var $el,
	        leftPos,
	        newWidth,
	        $mainNav = $(".main-nav");
	
	    $mainNav.append("<li id='magic-line'></li>");
	    var $magicLine = $("#magic-line");
	
	    $magicLine.width($(".active").width()).css("left", $(".active a").position().left).data("origLeft", $magicLine.position().left).data("origWidth", $magicLine.width());
	
	    $(".main-nav > li").hover(function () {
	        $el = $(this);
	        leftPos = $el.position().left;
	        newWidth = $el.width();
	        $magicLine.stop().animate({
	            left: leftPos,
	            width: newWidth
	        });
	    }, function () {
	        $magicLine.stop().animate({
	            left: $magicLine.data("origLeft"),
	            width: $magicLine.data("origWidth")
	        });
	    });
	}
	
	function updateAnimatedBottomLinePosition() {
	    var $magicLine = $("#magic-line");
	    $("#magic-line").width($(".active").width()).css("left", $(".active a").position().left).data("origLeft", $magicLine.position().left).data("origWidth", $magicLine.width());
	}
	
	function addCounter(selectorToCount, format) {
	    if ($(selectorToCount + "  .animation-counter")) {
	        $(selectorToCount + " .animation-counter .counter").each(function (index, ele) {
	            var counterObj = {
	                fromValue: parseInt($(this).attr("data-from"), 10),
	                toValue: parseInt($(this).attr("data-to"), 10),
	                speed: parseInt($(this).attr("data-speed"), 10)
	            };
	            var distanceMinMax = counterObj.fromValue < counterObj.toValue ? counterObj.toValue - counterObj.fromValue : counterObj.fromValue - counterObj.toValue;
	            var animatedBlock = $(this).parent();
	
	            if (counterObj.fromValue > counterObj.toValue) {
	                for (var i = counterObj.toValue + 1; i <= counterObj.fromValue; i++) {
	                    switch (format) {
	                        case "thousand":
	                            animatedBlock.prepend("<i>" + number_format(i) + "</i>");
	                            break;
	                        default:
	                            animatedBlock.prepend("<i>" + i + "</i>");
	                            break;
	                    }
	                }
	            } else {
	                for (var i = counterObj.toValue - 1; i >= counterObj.fromValue; i--) {
	                    switch (format) {
	                        case "thousand":
	                            animatedBlock.prepend("<i>" + number_format(i) + "</i>");
	                            break;
	                        default:
	                            animatedBlock.prepend("<i>" + i + "</i>");
	                            break;
	                    }
	                }
	            }
	
	            setTimeout(function () {
	                animatedBlock.animate({ top: -(animatedBlock.find("i").height() * distanceMinMax) }, {
	                    duration: counterObj.speed,
	                    specialEasing: {
	                        top: "swing"
	                    } });
	            }, 100 + index * 50);
	        });
	
	        $(window).on("resize", function () {
	            if ($(selectorToCount + "  .animation-counter")) {
	                $(selectorToCount + "  .animation-counter .counter").each(function (index, ele) {
	                    var counterObj = {
	                        fromValue: parseInt($(this).attr("data-from"), 10),
	                        toValue: parseInt($(this).attr("data-to"), 10),
	                        speed: parseInt($(this).attr("data-speed"), 10)
	                    };
	                    var distanceMinMax = counterObj.fromValue < counterObj.toValue ? counterObj.toValue - counterObj.fromValue : counterObj.fromValue - counterObj.toValue;
	                    var animatedBlock = $(this).parent();
	                    animatedBlock.css({ top: -(animatedBlock.find("i").height() * distanceMinMax) });
	                });
	            }
	        });
	    }
	}
	
	$(document).ready(function () {
	    $('.carousel').carousel();
	    var margL = parseInt(jQuery('header .container').css('margin-left')) + 15;
	    var gridH = parseInt(jQuery('.section-grid').height()) - 10;
	    var rowIntro = jQuery('.row-intro');
	    if (rowIntro && rowIntro.length > 0) {
	        var widthCol4 = jQuery('.row-intro').width() + margL + 1;
	        $('.info-block-content').css({ 'margin-left': margL + 'px' });
	        //$('.slide-img .carousel-indicators').css({ 'padding-left': margL + 'px' });
	        $('.section-info-map').css({
	            'padding-left': margL + 'px',
	            'width': widthCol4 + 'px'
	        });
	    }
	
	    // add Counter for data block
	    for (var section in counterSections) {
	        addCounter(counterSections[section].sel, counterSections[section].format);
	    }
	
	    $('.block-gallery').hover(function () {
	        var images = $(this).find('img');
	        var mouseoverLoopTime = $(this).closest('.gallery-ui').data("looptime");
	        if (isNaN(mouseoverLoopTime)) {
	            mouseoverLoopTime = 200;
	        }
	        slideImages($(this), images, mouseoverLoopTime);
	    }, function () {
	        clearTimeout(mouseovertimeout);
	    });
	});
	
	function scrollingEffects(selectorToAnimate, classAnimated) {
	    /* Every time the window is scrolled ... */
	    $(window).scroll(function () {
	        if (isFirstLoad) {
	            /* Check the location of each desired element */
	            $(selectorToAnimate).each(function (i) {
	                var bottom_of_object = $(this).offset().top + $(this).outerHeight();
	                var bottom_of_window = $(window).scrollTop() + $(window).height();
	
	                /* If the object is completely visible in the window, fade it it */
	                if (bottom_of_window > bottom_of_object) {
	                    isFirstLoad = false;
	                    $(selectorToAnimate).addClass(classAnimated + ' animated').one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function () {
	                        $(this).removeClass(classAnimated + ' animated').css("opacity", 1);
	                    });
	                }
	            });
	        }
	    });
	}
	
	function videoPostedController() {
	    var videoBtn = $(".video-control");
	    var video = $("#postVideo").get(0);
	    if (video) {
	        if (video.readyState == 4 || video.readyState == 3) {
	            videoBtn.click(function () {
	                if (video.paused) {
	                    video.play();
	                    $(this).css("background-image", "url('images/pause-icon.png')");
	                } else {
	                    video.pause();
	                    $(this).css("background-image", "url('images/play-icon.png')");
	                }
	                return false;
	            });
	        } else {
	            setTimeout(videoPostedController, 100);
	        }
	    }
	}
	
	$(function () {
	    var isLoopingTextInVideo = false;
	    var textMessage = $('#text-message');
	    var textMessageSpan = $('#text-message span');
	    var fadein = textMessage.data('fadeIn');
	    var fadeOut = textMessage.data('fadeOut');
	    var loop = textMessage.data('loop');
	    var duration = textMessage.data('duration');
	    var messages = "";
	    if (textMessage.data('text')) {
	        messages = textMessage.data('text').split('|');
	    }
	
	    function nextMsg(i) {
	        if (messages.length == i) {
	            i = 0;
	        }
	        if (isLoopingTextInVideo) {
	            textMessageSpan.html(messages[i]).fadeIn(fadein);
	        } else {
	            textMessageSpan.html(messages[i]).show();
	        }
	        return i + 1;
	    };
	
	    var currentTextLoopIndex = 0;
	    var videoTextLoopInterval = null;
	
	    function toggleVideoTextMessage(show) {
	        isLoopingTextInVideo = show;
	        if (show) {
	            videoTextLoopInterval = setInterval(function () {
	                textMessageSpan.fadeOut(fadeOut, function () {
	                    currentTextLoopIndex = nextMsg(currentTextLoopIndex);
	                });
	            }, duration);
	        } else {
	            if (videoTextLoopInterval != null) {
	                clearInterval(videoTextLoopInterval);
	            }
	        }
	    }
	
	    if (loop == false || messages.length == 1) {
	        textMessageSpan.html(messages[0]);
	    } else {
	        toggleVideoTextMessage(true);
	    }
	
	    //control the video banner player
	    //select video player in VideoBannerBlock
	    var videoCurrentTimes = new Array(); //get current playing time
	    $("#videoBanner").each(function (index, video) {
	        videoCurrentTimes.push(0);
	        currentVideoSource = video.src;
	        toggleVideoTextMessage(false);
	
	        $(video).parent().find('.videoBannerText, #videoBanner').click(function (e) {
	            var paused = video.paused;
	            if (paused) {
	                $('.video-poster').css("display", "none");
	                video.play();
	                toggleVideoTextMessage(true);
	            } else {
	                $('.video-poster').css("display", "block");
	                video.pause();
	                toggleVideoTextMessage(false);
	                videoCurrentTimes[index] = video.currentTime;
	            }
	        });
	
	        //display poster after finish video playing
	        video.onended = function () {
	            this.load();
	            this.pause();
	            videoCurrentTimes[index] = 0;
	            currentTextLoopIndex = 0;
	            $('.video-poster').css("display", "block");
	            toggleVideoTextMessage(false);
	        };
	    });
	
	    function checkLoad() {
	        var video = document.getElementById("videoBanner");
	
	        if (video != null && video != undefined) {
	            if (video.readyState === 4) {
	                if (!video.paused) {
	                    $('.video-poster').css("display", "none");
	                    toggleVideoTextMessage(true);
	                }
	
	                $('.video-poster').click(function () {
	                    if (video.paused) {
	                        $('.video-poster').css("display", "none");
	                        video.play();
	                        toggleVideoTextMessage(true);
	                    }
	                });
	            } else {
	                setTimeout(checkLoad, 100);
	            }
	        }
	    }
	
	    checkLoad();
	});
	
	function slideImages(galleryItem, images, mouseoverLoopTime) {
	    if (images.length > 1) {
	        images.each(function (index, image) {
	            if ($(image).hasClass('active')) {
	                $(image).removeClass('active');
	                var nextIndex = index + 1;
	                if (nextIndex == images.length) {
	                    nextIndex = 0;
	                }
	                var nextImage = $(images[nextIndex]);
	                nextImage.addClass('active');
	                galleryItem.css("background-image", "url('" + nextImage.attr('src') + "')");
	                mouseovertimeout = setTimeout(function () {
	                    slideImages(galleryItem, images, mouseoverLoopTime);
	                }, mouseoverLoopTime);
	                return false;
	            }
	        });
	    }
	}
	
	function slideDownMainMenu() {
	    var mainList = $(".main-nav li a");
	    var isOverSubMenu = false;
	    var isOverMainMenu = false;
	
	    mainList.hover(function () {
	        isOverMainMenu = true;
	        var directSubMenu = $("#" + $(this).attr("data-parent-menu").replace(" ", "-") + "-sub-menu");
	        $(".sub-menu").css({ opacity: 0, top: 100, visibility: "hidden" });
	        directSubMenu.find("li").each(function (index, ele) {
	            $(ele).removeAttr("style");
	        });
	        directSubMenu.css({ opacity: 1, top: 195, visibility: "visible" });
	        directSubMenu.find("li").each(function (index, ele) {
	            setTimeout(function () {
	                $(ele).animate({
	                    'opacity': 1.0,
	                    'top': 0
	                }, {
	                    duration: 700
	                });
	            }, 100 + index * 50);
	        });
	    }, function () {
	        isOverMainMenu = false;
	        var directSubMenu = $("#" + $(this).attr("data-parent-menu").replace(" ", "-") + "-sub-menu");
	        setTimeout(function () {
	            if (!isOverSubMenu) {
	                directSubMenu.css({ opacity: 0, top: 100, visibility: "hidden" });
	                directSubMenu.find("li").each(function (index, ele) {
	                    $(ele).removeAttr("style");
	                });
	            }
	        }, 100);
	    });
	
	    $(".sub-menu").hover(function () {
	        isOverSubMenu = true;
	    }, function () {
	        isOverSubMenu = false;
	        $(".sub-menu").find("li").each(function (index, ele) {
	            $(ele).removeAttr("style");
	        });
	        setTimeout(function () {
	            if (!isOverMainMenu) $(".sub-menu").css({ opacity: 0, top: 100, visibility: "hidden" });
	        }, 100);
	    });
	}
	
	function sharePriceDataSelection() {
	    var sharePriceTable = $(".share-price");
	    var sharePriceCombobox = $(".share-price .years-selection");
	
	    if (sharePriceCombobox) {
	        sharePriceCombobox.change(function () {
	            var selectedYear = $("select option:selected").val();
	
	            switch (selectedYear) {
	                case "2010":
	                    sharePriceTable.find(".yearly").hide();
	                    sharePriceTable.find(".year-2010").show();
	                    break;
	                case "2012":
	                    sharePriceTable.find(".yearly").hide();
	                    sharePriceTable.find(".year-2012").show();
	                    break;
	                case "2013":
	                    sharePriceTable.find(".yearly").hide();
	                    sharePriceTable.find(".year-2013").show();
	                    break;
	                case "2014":
	                    sharePriceTable.find(".yearly").hide();
	                    sharePriceTable.find(".year-2014").show();
	                    break;
	                case "2015":
	                    sharePriceTable.find(".yearly").hide();
	                    sharePriceTable.find(".year-2015").show();
	                    break;
	            }
	        });
	    }
	}
	
	function searchPlaceHolder() {
	    var bgUrl = "url('../images/search.png')";
	    $("#search-sub-menu .input-form").on("change keydown paste input", function () {
	        if ($(this).val() == "") {
	            $(this).css("background-image", bgUrl);
	        } else {
	            $(this).css("background-image", "none");
	        }
	    });
	}
	
	function hideMenuNavigation() {
	    // for resize to hide menu navigation
	    if ($(".main-nav-responsive").css("display") != "none") {
	        $(".main-nav-responsive").hide();
	        $(".icon").removeClass("open");
	        $(".sub-menu-responsive").hide();
	        $(".sub-menu-responsive").parent().find("a").css("border-bottom", "1px solid #777777");
	        $(".sub-menu-responsive").parent().find(".nav-arrow").removeClass("fa-angle-up").addClass("fa-angle-down");
	    }
	}
	
	function hoverOnTouchDevices(element, classToRemove) {
	    $(element).on("touchstart MSPointerDown", function (event) {
	        if (event.touches.length > 1) return;
	        $(".type-of-categories ul li").removeClass(classToRemove);
	        $(this).addClass(classToRemove);
	    });
	}
	
	function minHeightSliders() {
	    if ($(window).width() >= 768) {
	        // set min-height for carousel sliders
	        setTimeout(function () {
	            $(".carousel").each(function () {
	                var minHeight = $(this).find(".carousel-inner").height();
	                $(this).css({ height: minHeight });
	            });
	        }, 100);
	    } else {
	        $(".carousel").removeAttr("style");
	    }
	}
	
	$(window).on("resize", function () {
	    updateAnimatedBottomLinePosition();
	    //minHeightSliders();
	});
	
	$(window).on("orientationchange", function () {
	    hideMenuNavigation();
	});
	
	$(document).ready(function () {
	
	    hoverOnTouchDevices(".type-of-categories ul li", "active");
	    // slide toggle
	    $(".btn-toggle").click(function () {
	        var timeLineFull = $(this).parent().parent().find('.timeline-full');
	        var isVisible = $(timeLineFull).is(":visible");
	        $('.btn-toggle').removeClass('fa-angle-up').addClass('fa-angle-down');
	        $(".timeline-full").slideUp();
	        if (isVisible) {
	            $(timeLineFull).slideUp();
	            $(this).removeClass('fa-angle-up').addClass('fa-angle-down');
	        } else {
	            $(timeLineFull).slideDown();
	            $(this).removeClass('fa-angle-down').addClass('fa-angle-up');
	        }
	    });
	
	    //RESPONSIVE: header navigation
	
	    $(".icon").on("click", function () {
	
	        $(".main-nav-responsive").slideToggle();
	        $(this).toggleClass('open');
	
	        return false;
	    });
	
	    if ($(".main-nav-responsive li .sub-menu-responsive").css("display") != "none") $(".main-nav-responsive li .sub-menu").parent().find("a").css("border", "none");
	    $(".main-nav-responsive > li > .nav-arrow").on("click", function () {
	        var hasSub = $(this).parent().has(".sub-menu-responsive");
	        var sub = $(this).parent().find(".sub-menu-responsive");
	        if (sub.css("display") == "none") {
	            sub.parent().find("a").css("border", "none");
	            sub.slideDown();
	            $(this).parent().find(".nav-arrow").removeClass("fa-angle-down").addClass("fa-angle-up");
	        } else {
	            sub.slideUp(function () {
	                sub.parent().find("a").css("border-bottom", "1px solid #777777");
	            });
	            $(this).parent().find(".nav-arrow").removeClass("fa-angle-up").addClass("fa-angle-down");
	        }
	        if ($(this).attr("href") == "#") return false;
	    });
	
	    // RESPONSIVE: add clear-input button to clear text in search text box
	    $(".form-search .clear-input").on("click", function () {
	        $(this).parent().find(".input-form").val("");
	        $(this).parent().find(".input-form").val("");
	        return false;
	    });
	
	    slideDownMainMenu();
	    animatedBottomLineNavigation();
	    updateAnimatedBottomLinePosition();
	    sharePriceDataSelection();
	    videoPostedController();
	    searchPlaceHolder();
	    //minHeightSliders();
	    scrollingEffects(".quote-module", "fadeInUp");
	});
	
	// calculate and set .draggable width
	
	$.fn.draggable_nav_calc = function (options) {
	    return this.each(function (i) {
	        var $element = $(this);
	        if ($element.is(":visible")) {
	            // x or y
	            if (options.axis === "x") {
	                // calculate
	                var navWidth = 1;
	                $element.find("> *").each(function (i) {
	                    navWidth += $(this).outerWidth(true);
	                });
	                // set width
	                var parentWidth = $element.parent().width();
	                if (navWidth > parentWidth) {
	                    $element.css("width", navWidth);
	                } else {
	                    $element.css("width", parentWidth);
	                }
	            } else if (options.axis === "y") {
	                // calculate
	                var navHeight = 1;
	                $element.find("> *").each(function (i) {
	                    navHeight += $(this).outerHeight(true);
	                });
	                // set height
	                var parentHeight = $element.parent().width();
	                if (navHeight > parentHeight) {
	                    $element.css("height", navHeight);
	                } else {
	                    $element.css("height", parentHeight);
	                }
	            }
	        }
	    });
	};
	
	// check inside bounds
	
	$.fn.draggable_nav_check = function () {
	    return this.each(function (i) {
	        var $element = $(this);
	        // calculate
	        var w = $element.width();
	        var pw = $element.parent().width();
	        var maxPosLeft = 0;
	        if (w > pw) {
	            maxPosLeft = -(w - pw);
	        }
	        var h = $element.height();
	        var ph = $element.parent().height();
	        var maxPosTop = 0;
	        if (h > ph) {
	            maxPosTop = h - ph;
	        }
	        // horizontal
	        var left = parseInt($element[0].style.left);
	        if (left > 0) {
	            $element.css("left", 0);
	        } else if (left < maxPosLeft) {
	            $element.css("left", maxPosLeft);
	        }
	        // vertical
	        var top = parseInt($element[0].style.top);
	        if (top > 0) {
	            $element.css("top", 0);
	        } else if (top < maxPosTop) {
	            $element.css("top", maxPosTop);
	        }
	    });
	};
	
	// init draggable nav
	
	$.fn.draggable_nav = function (options) {
	    return this.each(function (i) {
	        var $element = $(this);
	        // calculate first time, after delay to fix resize bugs
	        window.setTimeout(function (e) {
	            $element.draggable_nav_calc(options);
	        }, 100);
	        // on shown tabs recalculate
	        $element.find('[data-toggle="tab"]').on('shown.bs.tab', function (e) {
	            $element.draggable_nav_calc(options);
	        });
	        // on resize recalculate
	        function draggable_nav_resize_after() {
	            clearTimeout($element.data("draggable_nav_timeout"));
	            var timeout = window.setTimeout(function (e) {
	                $element.draggable_nav_calc(options);
	                $element.draggable_nav_check();
	            }, 0);
	            $element.data("draggable_nav_timeout", timeout);
	        }
	        $(window).on('resize', draggable_nav_resize_after);
	        $(window).on('scroll', draggable_nav_resize_after);
	        // center clicked element
	        if ($element.hasClass("draggable-center")) {
	            $element.find('li a[data-toggle="tab"]').on("shown.bs.tab", function (e) {
	                var $container = $(this).parents(".draggable-container");
	                var $li = $(this).parents("li");
	                if (options.axis === "x") {
	                    var left = -$li.position().left + $container.outerWidth() / 2 - $li.outerWidth() / 2;
	                    $element.css("left", left);
	                } else if (options.axis === "y") {
	                    var top = -$li.position().top + $container.outerWidth() / 2 - $li.outerWidth() / 2;
	                    $element.css("top", top);
	                }
	                // put inside bounds
	                $element.draggable_nav_check();
	            });
	        }
	    });
	};
	$(".draggable").draggable_nav({
	    axis: 'x' // only horizontally
	});
	
	// jquery ui draggable
	
	$(".draggable").draggable({
	    axis: 'x', // only horizontally
	    drag: function drag(e, ui) {
	        var $element = ui.helper;
	        // calculate
	        var w = $element.width();
	        var pw = $element.parent().width();
	        var maxPosLeft = 0;
	        if (w > pw) {
	            maxPosLeft = -(w - pw);
	        }
	        var h = $element.height();
	        var ph = $element.parent().height();
	        var maxPosTop = 0;
	        if (h > ph) {
	            maxPosTop = h - ph;
	        }
	        // horizontal
	        if (ui.position.left > 0) {
	            ui.position.left = 0;
	        } else if (ui.position.left < maxPosLeft) {
	            ui.position.left = maxPosLeft;
	        }
	        // vertical
	        if (ui.position.top > 0) {
	            ui.position.top = 0;
	        } else if (ui.position.top < maxPosTop) {
	            ui.position.top = maxPosTop;
	        }
	    }
	});
	
	// jquey draggable also on touch devices
	// http://stackoverflow.com/questions/5186441/javascript-drag-and-drop-for-touch-devices
	
	function touchHandler(e) {
	    var touch = e.originalEvent.changedTouches[0];
	    var simulatedEvent = document.createEvent("MouseEvent");
	    simulatedEvent.initMouseEvent({
	        touchstart: "mousedown",
	        touchmove: "mousemove",
	        touchend: "mouseup"
	    }[e.type], true, true, window, 1, touch.screenX, touch.screenY, touch.clientX, touch.clientY, false, false, false, false, 0, null);
	    touch.target.dispatchEvent(simulatedEvent);
	}
	
	function preventPageScroll(e) {
	    e.preventDefault();
	}
	
	function initTouchHandler($element) {
	    $element.on("touchstart touchmove touchend touchcancel", touchHandler);
	    $element.on("touchmove", preventPageScroll);
	}
	initTouchHandler($(".draggable"));
	
	$('.form').valida();
	/***********************Ngoc Tran***********************/
	$(document).ready(function () {
	    if ($(window).width() >= 768) {
	        equals_height();
	    }
	    $(window).resize(function () {
	        equals_height();
	        if ($(window).width() < 768) $('.equal-height').removeAttr('style');
	    });
	});
	
	function equals_height() {
	    $('.equal-height').removeAttr('style');
	    $('.equal-height-container').each(function () {
	        // Cache the highest
	        var highestBox = 0;
	        // Select and loop the elements you want to equalise
	        $('.equal-height', this).each(function () {
	            // If this box is higher than the cached highest then store it
	            if ($(this).height() > highestBox) {
	                highestBox = $(this).height();
	            }
	        });
	        // Set the height of all those children to whichever was highest
	        $('.equal-height', this).height(highestBox);
	    });
	}
	var owl = $('.slide-inner-ktm');
	function carreer_path_carousel() {
	    var option = {
	        responsiveClass: true,
	        items: 1,
	        responsive: {
	            1660: { items: 3 },
	            1200: { items: 2 }
	        },
	        smartSpeed: 500,
	        loop: false,
	        nav: false,
	        dots: true
	    };
	    owl.owlCarousel(option);
	}
	
	function setIndicatorIndex() {
	    var dot_index = 0;
	    var indicators_contents = '';
	    $('.owl-dots .owl-dot').each(function () {
	        indicators_contents += '<li></li>';
	        if ($(this).hasClass('active')) {
	            dot_index = $(this).index();
	        }
	    });
	    $('.owl-indicators').html('').append(indicators_contents);
	    $('.owl-indicators').find("li").eq(dot_index).addClass('active').siblings().removeClass('active');
	}
	function activeIndicator(container) {
	    var dot_index = 0;
	    $('.owl-dot').each(function () {
	        if ($(this).hasClass('active')) {
	            dot_index = $(this).index();
	        }
	    });
	    container.find('.owl-indicators li').eq(dot_index).addClass('active').siblings().removeClass('active');
	}
	$(document).ready(function () {
	    carreer_path_carousel();
	    setIndicatorIndex();
	    $('.owl-indicators li').click(function () {
	        var _self = $(this);
	        _self.addClass('active').siblings().removeClass('active');
	        _self.parents('.slide').find('.owl-theme .owl-dots .owl-dot').eq(_self.index()).trigger('click');
	    });
	    owl.on('changed.owl.carousel', function (e) {
	        activeIndicator(owl.parents('.carousel'));
	    });
	    $(".carousel").swiperight(function () {
	        $(this).carousel('prev');
	    });
	    $(".carousel").swipeleft(function () {
	        $(this).carousel('next');
	    });
	});

/***/ }
/******/ ]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgYjA0YWRhNjRkNjA5N2FlNzZlNjkiLCJ3ZWJwYWNrOi8vLy4vanMvY29tbW9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1QkFBZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7QUNuQ0EsS0FBSSxrQkFBSjtBQUNBLEtBQUksWUFBWSxVQUFVLFNBQVYsQ0FBb0IsT0FBcEIsQ0FBNEIsUUFBNUIsSUFBd0MsQ0FBQyxDQUFELElBQU0sVUFBVSxTQUFWLENBQW9CLE9BQXBCLENBQTRCLEtBQTVCLElBQXFDLENBQUMsQ0FBRDtBQUNuRyxLQUFJLGdCQUFKO0FBQ0EsS0FBSSxrQkFBa0IsQ0FDbEIsRUFBQyxLQUFLLGFBQUwsRUFBb0IsUUFBUSxFQUFSLEVBREgsRUFFbEIsRUFBQyxLQUFLLE9BQUwsRUFBYyxRQUFRLEVBQVIsRUFGRyxFQUdsQixFQUFDLEtBQUssVUFBTCxFQUFpQixRQUFRLEVBQVIsRUFIQSxFQUlsQixFQUFDLEtBQUssb0JBQUwsRUFBMkIsUUFBUSxFQUFSLEVBSlYsRUFLbEIsRUFBQyxLQUFLLFNBQUwsRUFBZ0IsUUFBUSxFQUFSLEVBTEMsRUFNbEIsRUFBQyxLQUFLLFNBQUwsRUFBZ0IsUUFBUSxFQUFSLEVBTkMsRUFPbEIsRUFBQyxLQUFLLE9BQUwsRUFBYyxRQUFRLEVBQVIsRUFQRyxFQVFsQixFQUFDLEtBQUssUUFBTCxFQUFlLFFBQVEsRUFBUixFQVJFLEVBU2xCLEVBQUMsS0FBSyxtQkFBTCxFQUEwQixRQUFRLEVBQVIsRUFUVCxFQVVsQixFQUFDLEtBQUssUUFBTCxFQUFlLFFBQVEsRUFBUixFQVZFLEVBV2xCLEVBQUMsS0FB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QWlCLE1BQWpCLEVBRGlDO01BQVgsQ0FBMUIsQ0FYMEI7QUFjMUIsT0FBRSxXQUFGLEVBQWUsU0FBZixDQUF5QixZQUFXO0FBQ2hDLFdBQUUsSUFBRixFQUFRLFFBQVIsQ0FBaUIsTUFBakIsRUFEZ0M7TUFBWCxDQUF6QixDQWQwQjtFQUFaLENBQWxCLEMiLCJmaWxlIjoiLi9kaXN0L2pzL2NvbW1vbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svYm9vdHN0cmFwIGIwNGFkYTY0ZDYwOTdhZTc2ZTY5XG4gKiovIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgaGEuZG8gb24gMi80LzIwMTYuXHJcbiAqL1xyXG52YXIgY3VycmVudFZpZGVvU291cmNlO1xyXG52YXIgaXNfc2FmYXJpID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiU2FmYXJpXCIpID4gLTEgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTWFjXCIpID4gLTE7XHJcbnZhciBtb3VzZW92ZXJ0aW1lb3V0O1xyXG52YXIgY291bnRlclNlY3Rpb25zID0gW1xyXG4gICAge3NlbDogXCIubGFzdC1wcmljZVwiLCBmb3JtYXQ6IFwiXCJ9LFxyXG4gICAge3NlbDogXCIuZWJpdFwiLCBmb3JtYXQ6IFwiXCJ9LFxyXG4gICAge3NlbDogXCIucmV2ZW51ZVwiLCBmb3JtYXQ6IFwiXCJ9LFxyXG4gICAge3NlbDogXCIucmVwb3J0LWRvd25sb2FkZXJcIiwgZm9ybWF0OiBcIlwifSAsXHJcbiAgICB7c2VsOiBcIi50aXRsZXNcIiwgZm9ybWF0OiBcIlwifSxcclxuICAgIHtzZWw6IFwiLmJyYW5kc1wiLCBmb3JtYXQ6IFwiXCJ9LFxyXG4gICAge3NlbDogXCIud2luc1wiLCBmb3JtYXQ6IFwiXCJ9LFxyXG4gICAge3NlbDogXCIueWVhcnNcIiwgZm9ybWF0OiBcIlwifSxcclxuICAgIHtzZWw6IFwiLnllYXJzLW9mLWhpc3RvcnlcIiwgZm9ybWF0OiBcIlwifSxcclxuICAgIHtzZWw6IFwiLnBhcnRzXCIsIGZvcm1hdDogXCJcIn0sXHJcbiAgICB7c2VsOiBcIi5lbXBsb3llZXNcIiwgZm9ybWF0OiBcInRob3VzYW5kXCJ9LFxyXG4gICAge3NlbDogXCIuYmlrZXMtc29sZFwiLCBmb3JtYXQ6IFwiXCJ9XTtcclxudmFyIGlzRmlyc3RMb2FkID0gdHJ1ZTtcclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cclxuXHJcbmZ1bmN0aW9uIG51bWJlcl9mb3JtYXQobnVtYmVyLCBkZWNpbWFscywgZGVjX3BvaW50LCB0aG91c2FuZHNfc2VwKSB7XHJcbiAgICAvLyAqICAgICBleGFtcGxlIDE6IG51bWJlcl9mb3JtYXQoMTIzNC41Nik7XHJcbiAgICAvLyAqICAgICByZXR1cm5zIDE6ICcxLDIzNSdcclxuICAgIC8vICogICAgIGV4YW1wbGUgMjogbnVtYmVyX2Zvcm1hdCgxMjM0LjU2LCAyLCAnLCcsICcgJyk7XHJcbiAgICAvLyAqICAgICByZXR1cm5zIDI6ICcxIDIzNCw1NidcclxuICAgIC8vICogICAgIGV4YW1wbGUgMzogbnVtYmVyX2Zvcm1hdCgxMjM0LjU2NzgsIDIsICcuJywgJycpO1xyXG4gICAgLy8gKiAgICAgcmV0dXJucyAzOiAnMTIzNC41NydcclxuICAgIC8vICogICAgIGV4YW1wbGUgNDogbnVtYmVyX2Zvcm1hdCg2NywgMiwgJywnLCAnLicpO1xyXG4gICAgLy8gKiAgICAgcmV0dXJucyA0OiAnNjcsMDAnXHJcbiAgICAvLyAqICAgICBleGFtcGxlIDU6IG51bWJlcl9mb3JtYXQoMTAwMCk7XHJcbiAgICAvLyAqICAgICByZXR1cm5zIDU6ICcxLDAwMCdcclxuICAgIC8vICogICAgIGV4YW1wbGUgNjogbnVtYmVyX2Zvcm1hdCg2Ny4zMTEsIDIpO1xyXG4gICAgLy8gKiAgICAgcmV0dXJucyA2OiAnNjcuMzEnXHJcbiAgICAvLyAqICAgICBleGFtcGxlIDc6IG51bWJlcl9mb3JtYXQoMTAwMC41NSwgMSk7XHJcbiAgICAvLyAqICAgICByZXR1cm5zIDc6ICcxLDAwMC42J1xyXG4gICAgLy8gKiAgICAgZXhhbXBsZSA4OiBudW1iZXJfZm9ybWF0KDY3MDAwLCA1LCAnLCcsICcuJyk7XHJcbiAgICAvLyAqICAgICByZXR1cm5zIDg6ICc2Ny4wMDAsMDAwMDAnXHJcbiAgICAvLyAqICAgICBleGFtcGxlIDk6IG51bWJlcl9mb3JtYXQoMC45LCAwKTtcclxuICAgIC8vICogICAgIHJldHVybnMgOTogJzEnXHJcbiAgICAvLyAqICAgIGV4YW1wbGUgMTA6IG51bWJlcl9mb3JtYXQoJzEuMjAnLCAyKTtcclxuICAgIC8vICogICAgcmV0dXJucyAxMDogJzEuMjAnXHJcbiAgICAvLyAqICAgIGV4YW1wbGUgMTE6IG51bWJlcl9mb3JtYXQoJzEuMjAnLCA0KTtcclxuICAgIC8vICogICAgcmV0dXJucyAxMTogJzEuMjAwMCdcclxuICAgIC8vICogICAgZXhhbXBsZSAxMjogbnVtYmVyX2Zvcm1hdCgnMS4yMDAwJywgMyk7XHJcbiAgICAvLyAqICAgIHJldHVybnMgMTI6ICcxLjIwMCdcclxuICAgIHZhciBuID0gIWlzRmluaXRlKCtudW1iZXIpID8gMCA6ICtudW1iZXIsXHJcbiAgICAgICAgcHJlYyA9ICFpc0Zpbml0ZSgrZGVjaW1hbHMpID8gMCA6IE1hdGguYWJzKGRlY2ltYWxzKSxcclxuICAgICAgICBzZXAgPSAodHlwZW9mIHRob3VzYW5kc19zZXAgPT09ICd1bmRlZmluZWQnKSA/ICcuJyA6IHRob3VzYW5kc19zZXAsXHJcbiAgICAgICAgZGVjID0gKHR5cGVvZiBkZWNfcG9pbnQgPT09ICd1bmRlZmluZWQnKSA/ICcsJyA6IGRlY19wb2ludCxcclxuICAgICAgICB0b0ZpeGVkRml4ID0gZnVuY3Rpb24gKG4sIHByZWMpIHtcclxuICAgICAgICAgICAgLy8gRml4IGZvciBJRSBwYXJzZUZsb2F0KDAuNTUpLnRvRml4ZWQoMCkgPSAwO1xyXG4gICAgICAgICAgICB2YXIgayA9IE1hdGgucG93KDEwLCBwcmVjKTtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQobiAqIGspIC8gaztcclxuICAgICAgICB9LFxyXG4gICAgICAgIHMgPSAocHJlYyA/IHRvRml4ZWRGaXgobiwgcHJlYykgOiBNYXRoLnJvdW5kKG4pKS50b1N0cmluZygpLnNwbGl0KCcuJyk7XHJcbiAgICBpZiAoc1swXS5sZW5ndGggPiAzKSB7XHJcbiAgICAgICAgc1swXSA9IHNbMF0ucmVwbGFjZSgvXFxCKD89KD86XFxkezN9KSsoPyFcXGQpKS9nLCBzZXApO1xyXG4gICAgfVxyXG4gICAgaWYgKChzWzFdIHx8ICcnKS5sZW5ndGggPCBwcmVjKSB7XHJcbiAgICAgICAgc1sxXSA9IHNbMV0gfHwgJyc7XHJcbiAgICAgICAgc1sxXSArPSBuZXcgQXJyYXkocHJlYyAtIHNbMV0ubGVuZ3RoICsgMSkuam9pbignMCcpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHMuam9pbihkZWMpO1xyXG59XHJcblxyXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cclxuXHJcbmZ1bmN0aW9uIGFuaW1hdGVkQm90dG9tTGluZU5hdmlnYXRpb24oKSB7XHJcbiAgICB2YXIgJGVsLCBsZWZ0UG9zLCBuZXdXaWR0aCxcclxuICAgICAgICAkbWFpbk5hdiA9ICQoXCIubWFpbi1uYXZcIik7XHJcblxyXG4gICAgJG1haW5OYXYuYXBwZW5kKFwiPGxpIGlkPSdtYWdpYy1saW5lJz48L2xpPlwiKTtcclxuICAgIHZhciAkbWFnaWNMaW5lID0gJChcIiNtYWdpYy1saW5lXCIpO1xyXG5cclxuICAgICRtYWdpY0xpbmVcclxuICAgICAgICAud2lkdGgoJChcIi5hY3RpdmVcIikud2lkdGgoKSlcclxuICAgICAgICAuY3NzKFwibGVmdFwiLCAkKFwiLmFjdGl2ZSBhXCIpLnBvc2l0aW9uKCkubGVmdClcclxuICAgICAgICAuZGF0YShcIm9yaWdMZWZ0XCIsICRtYWdpY0xpbmUucG9zaXRpb24oKS5sZWZ0KVxyXG4gICAgICAgIC5kYXRhKFwib3JpZ1dpZHRoXCIsICRtYWdpY0xpbmUud2lkdGgoKSk7XHJcblxyXG4gICAgJChcIi5tYWluLW5hdiA+IGxpXCIpLmhvdmVyKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICRlbCA9ICQodGhpcyk7XHJcbiAgICAgICAgbGVmdFBvcyA9ICRlbC5wb3NpdGlvbigpLmxlZnQ7XHJcbiAgICAgICAgbmV3V2lkdGggPSAkZWwud2lkdGgoKTtcclxuICAgICAgICAkbWFnaWNMaW5lLnN0b3AoKS5hbmltYXRlKHtcclxuICAgICAgICAgICAgbGVmdDogbGVmdFBvcyxcclxuICAgICAgICAgICAgd2lkdGg6IG5ld1dpZHRoXHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBmdW5jdGlvbigpIHtcclxuICAgICAgICAkbWFnaWNMaW5lLnN0b3AoKS5hbmltYXRlKHtcclxuICAgICAgICAgICAgbGVmdDogJG1hZ2ljTGluZS5kYXRhKFwib3JpZ0xlZnRcIiksXHJcbiAgICAgICAgICAgIHdpZHRoOiAkbWFnaWNMaW5lLmRhdGEoXCJvcmlnV2lkdGhcIilcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVBbmltYXRlZEJvdHRvbUxpbmVQb3NpdGlvbigpIHtcclxuICAgIHZhciAkbWFnaWNMaW5lID0gJChcIiNtYWdpYy1saW5lXCIpO1xyXG4gICAgJChcIiNtYWdpYy1saW5lXCIpLndpZHRoKCQoXCIuYWN0aXZlXCIpLndpZHRoKCkpXHJcbiAgICAgICAgLmNzcyhcImxlZnRcIiwgJChcIi5hY3RpdmUgYVwiKS5wb3NpdGlvbigpLmxlZnQpXHJcbiAgICAgICAgLmRhdGEoXCJvcmlnTGVmdFwiLCAkbWFnaWNMaW5lLnBvc2l0aW9uKCkubGVmdClcclxuICAgICAgICAuZGF0YShcIm9yaWdXaWR0aFwiLCAkbWFnaWNMaW5lLndpZHRoKCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRDb3VudGVyKHNlbGVjdG9yVG9Db3VudCwgZm9ybWF0KSB7XHJcbiAgICBpZiAoJChzZWxlY3RvclRvQ291bnQgKyBcIiAgLmFuaW1hdGlvbi1jb3VudGVyXCIpKSB7XHJcbiAgICAgICAgJChzZWxlY3RvclRvQ291bnQgKyBcIiAuYW5pbWF0aW9uLWNvdW50ZXIgLmNvdW50ZXJcIikuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlKSB7XHJcbiAgICAgICAgICAgIHZhciBjb3VudGVyT2JqID0ge1xyXG4gICAgICAgICAgICAgICAgZnJvbVZhbHVlOiBwYXJzZUludCgkKHRoaXMpLmF0dHIoXCJkYXRhLWZyb21cIiksIDEwKSxcclxuICAgICAgICAgICAgICAgIHRvVmFsdWU6IHBhcnNlSW50KCQodGhpcykuYXR0cihcImRhdGEtdG9cIiksIDEwKSxcclxuICAgICAgICAgICAgICAgIHNwZWVkOiBwYXJzZUludCgkKHRoaXMpLmF0dHIoXCJkYXRhLXNwZWVkXCIpLCAxMClcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIGRpc3RhbmNlTWluTWF4ID0gKGNvdW50ZXJPYmouZnJvbVZhbHVlIDwgY291bnRlck9iai50b1ZhbHVlKSA/IGNvdW50ZXJPYmoudG9WYWx1ZSAtIGNvdW50ZXJPYmouZnJvbVZhbHVlIDogY291bnRlck9iai5mcm9tVmFsdWUgLSBjb3VudGVyT2JqLnRvVmFsdWU7XHJcbiAgICAgICAgICAgIHZhciBhbmltYXRlZEJsb2NrID0gJCh0aGlzKS5wYXJlbnQoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb3VudGVyT2JqLmZyb21WYWx1ZSA+IGNvdW50ZXJPYmoudG9WYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IGNvdW50ZXJPYmoudG9WYWx1ZSArIDE7IGkgPD0gY291bnRlck9iai5mcm9tVmFsdWU7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZm9ybWF0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0aG91c2FuZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZWRCbG9jay5wcmVwZW5kKFwiPGk+XCIrbnVtYmVyX2Zvcm1hdChpKStcIjwvaT5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGVkQmxvY2sucHJlcGVuZChcIjxpPlwiK2krXCI8L2k+XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IGNvdW50ZXJPYmoudG9WYWx1ZSAtIDE7IGkgPj0gY291bnRlck9iai5mcm9tVmFsdWU7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZm9ybWF0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0aG91c2FuZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZWRCbG9jay5wcmVwZW5kKFwiPGk+XCIrbnVtYmVyX2Zvcm1hdChpKStcIjwvaT5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGVkQmxvY2sucHJlcGVuZChcIjxpPlwiK2krXCI8L2k+XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBhbmltYXRlZEJsb2NrLmFuaW1hdGUoe3RvcDogLShhbmltYXRlZEJsb2NrLmZpbmQoXCJpXCIpLmhlaWdodCgpKihkaXN0YW5jZU1pbk1heCkpfSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBjb3VudGVyT2JqLnNwZWVkLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwZWNpYWxFYXNpbmc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBcInN3aW5nXCJcclxuICAgICAgICAgICAgICAgICAgICB9fSk7XHJcbiAgICAgICAgICAgIH0sIDEwMCArIChpbmRleCo1MCkgKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCh3aW5kb3cpLm9uKFwicmVzaXplXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoJChzZWxlY3RvclRvQ291bnQgKyBcIiAgLmFuaW1hdGlvbi1jb3VudGVyXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAkKHNlbGVjdG9yVG9Db3VudCArIFwiICAuYW5pbWF0aW9uLWNvdW50ZXIgLmNvdW50ZXJcIikuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXJPYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb21WYWx1ZTogcGFyc2VJbnQoJCh0aGlzKS5hdHRyKFwiZGF0YS1mcm9tXCIpLCAxMCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvVmFsdWU6IHBhcnNlSW50KCQodGhpcykuYXR0cihcImRhdGEtdG9cIiksIDEwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IHBhcnNlSW50KCQodGhpcykuYXR0cihcImRhdGEtc3BlZWRcIiksIDEwKVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlTWluTWF4ID0gKGNvdW50ZXJPYmouZnJvbVZhbHVlIDwgY291bnRlck9iai50b1ZhbHVlKSA/IGNvdW50ZXJPYmoudG9WYWx1ZSAtIGNvdW50ZXJPYmouZnJvbVZhbHVlIDogY291bnRlck9iai5mcm9tVmFsdWUgLSBjb3VudGVyT2JqLnRvVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuaW1hdGVkQmxvY2sgPSAkKHRoaXMpLnBhcmVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGVkQmxvY2suY3NzKHt0b3A6IC0oYW5pbWF0ZWRCbG9jay5maW5kKFwiaVwiKS5oZWlnaHQoKSooZGlzdGFuY2VNaW5NYXgpKX0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICAkKCcuY2Fyb3VzZWwnKS5jYXJvdXNlbCgpXHJcbiAgICB2YXIgbWFyZ0wgPSBwYXJzZUludChqUXVlcnkoJ2hlYWRlciAuY29udGFpbmVyJykuY3NzKCdtYXJnaW4tbGVmdCcpKSArIDE1O1xyXG4gICAgdmFyIGdyaWRIID0gcGFyc2VJbnQoalF1ZXJ5KCcuc2VjdGlvbi1ncmlkJykuaGVpZ2h0KCkpIC0gMTA7XHJcbiAgICB2YXIgcm93SW50cm8gPSBqUXVlcnkoJy5yb3ctaW50cm8nKTtcclxuICAgIGlmIChyb3dJbnRybyAmJiByb3dJbnRyby5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgdmFyIHdpZHRoQ29sNCA9IGpRdWVyeSgnLnJvdy1pbnRybycpLndpZHRoKCkgKyBtYXJnTCArIDE7XHJcbiAgICAgICAgJCgnLmluZm8tYmxvY2stY29udGVudCcpLmNzcyh7ICdtYXJnaW4tbGVmdCc6IG1hcmdMICsgJ3B4JyB9KTtcclxuICAgICAgICAvLyQoJy5zbGlkZS1pbWcgLmNhcm91c2VsLWluZGljYXRvcnMnKS5jc3MoeyAncGFkZGluZy1sZWZ0JzogbWFyZ0wgKyAncHgnIH0pO1xyXG4gICAgICAgICQoJy5zZWN0aW9uLWluZm8tbWFwJykuY3NzKHtcclxuICAgICAgICAgICAgJ3BhZGRpbmctbGVmdCc6IG1hcmdMICsgJ3B4JyxcclxuICAgICAgICAgICAgJ3dpZHRoJzogd2lkdGhDb2w0ICsgJ3B4J1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGFkZCBDb3VudGVyIGZvciBkYXRhIGJsb2NrXHJcbiAgICBmb3IgKHZhciBzZWN0aW9uIGluIGNvdW50ZXJTZWN0aW9ucykge1xyXG4gICAgICAgIGFkZENvdW50ZXIoY291bnRlclNlY3Rpb25zW3NlY3Rpb25dLnNlbCwgY291bnRlclNlY3Rpb25zW3NlY3Rpb25dLmZvcm1hdCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgICQoJy5ibG9jay1nYWxsZXJ5JylcclxuICAgICAgICAuaG92ZXIoXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGltYWdlcyA9ICQodGhpcykuZmluZCgnaW1nJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW91c2VvdmVyTG9vcFRpbWUgPSAkKHRoaXMpLmNsb3Nlc3QoJy5nYWxsZXJ5LXVpJykuZGF0YShcImxvb3B0aW1lXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKG1vdXNlb3Zlckxvb3BUaW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlb3Zlckxvb3BUaW1lID0gMjAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2xpZGVJbWFnZXMoJCh0aGlzKSwgaW1hZ2VzLCBtb3VzZW92ZXJMb29wVGltZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KG1vdXNlb3ZlcnRpbWVvdXQpO1xyXG4gICAgICAgICAgICB9KTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBzY3JvbGxpbmdFZmZlY3RzKHNlbGVjdG9yVG9BbmltYXRlLCBjbGFzc0FuaW1hdGVkKSB7XHJcbiAgICAvKiBFdmVyeSB0aW1lIHRoZSB3aW5kb3cgaXMgc2Nyb2xsZWQgLi4uICovXHJcbiAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoaXNGaXJzdExvYWQpIHtcclxuICAgICAgICAgICAgLyogQ2hlY2sgdGhlIGxvY2F0aW9uIG9mIGVhY2ggZGVzaXJlZCBlbGVtZW50ICovXHJcbiAgICAgICAgICAgICQoc2VsZWN0b3JUb0FuaW1hdGUpLmVhY2goZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBib3R0b21fb2Zfb2JqZWN0ID0gJCh0aGlzKS5vZmZzZXQoKS50b3AgKyAkKHRoaXMpLm91dGVySGVpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYm90dG9tX29mX3dpbmRvdyA9ICQod2luZG93KS5zY3JvbGxUb3AoKSArICQod2luZG93KS5oZWlnaHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvKiBJZiB0aGUgb2JqZWN0IGlzIGNvbXBsZXRlbHkgdmlzaWJsZSBpbiB0aGUgd2luZG93LCBmYWRlIGl0IGl0ICovXHJcbiAgICAgICAgICAgICAgICBpZiAoYm90dG9tX29mX3dpbmRvdyA+IGJvdHRvbV9vZl9vYmplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBpc0ZpcnN0TG9hZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICQoc2VsZWN0b3JUb0FuaW1hdGUpLmFkZENsYXNzKGNsYXNzQW5pbWF0ZWQgKyAnIGFuaW1hdGVkJykub25lKCd3ZWJraXRBbmltYXRpb25FbmQgbW96QW5pbWF0aW9uRW5kIE1TQW5pbWF0aW9uRW5kIG9hbmltYXRpb25lbmQgYW5pbWF0aW9uZW5kJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKGNsYXNzQW5pbWF0ZWQgKyAnIGFuaW1hdGVkJykuY3NzKFwib3BhY2l0eVwiLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB2aWRlb1Bvc3RlZENvbnRyb2xsZXIoKSB7XHJcbiAgICB2YXIgdmlkZW9CdG4gPSAkKFwiLnZpZGVvLWNvbnRyb2xcIik7XHJcbiAgICB2YXIgdmlkZW8gPSAkKFwiI3Bvc3RWaWRlb1wiKS5nZXQoMCk7XHJcbiAgICBpZiAodmlkZW8pIHtcclxuICAgICAgICBpZiAodmlkZW8ucmVhZHlTdGF0ZSA9PSA0IHx8IHZpZGVvLnJlYWR5U3RhdGUgPT0gMykge1xyXG4gICAgICAgICAgICB2aWRlb0J0bi5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2aWRlby5wYXVzZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2aWRlby5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5jc3MoXCJiYWNrZ3JvdW5kLWltYWdlXCIsIFwidXJsKCdpbWFnZXMvcGF1c2UtaWNvbi5wbmcnKVwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlkZW8ucGF1c2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcyhcImJhY2tncm91bmQtaW1hZ2VcIiwgXCJ1cmwoJ2ltYWdlcy9wbGF5LWljb24ucG5nJylcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQodmlkZW9Qb3N0ZWRDb250cm9sbGVyLCAxMDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuJChmdW5jdGlvbigpIHtcclxuICAgIHZhciBpc0xvb3BpbmdUZXh0SW5WaWRlbyA9IGZhbHNlO1xyXG4gICAgdmFyIHRleHRNZXNzYWdlID0gJCgnI3RleHQtbWVzc2FnZScpO1xyXG4gICAgdmFyIHRleHRNZXNzYWdlU3BhbiA9ICQoJyN0ZXh0LW1lc3NhZ2Ugc3BhbicpO1xyXG4gICAgdmFyIGZhZGVpbiA9IHRleHRNZXNzYWdlLmRhdGEoJ2ZhZGVJbicpO1xyXG4gICAgdmFyIGZhZGVPdXQgPSB0ZXh0TWVzc2FnZS5kYXRhKCdmYWRlT3V0Jyk7XHJcbiAgICB2YXIgbG9vcCA9IHRleHRNZXNzYWdlLmRhdGEoJ2xvb3AnKTtcclxuICAgIHZhciBkdXJhdGlvbiA9IHRleHRNZXNzYWdlLmRhdGEoJ2R1cmF0aW9uJyk7XHJcbiAgICB2YXIgbWVzc2FnZXMgPSBcIlwiO1xyXG4gICAgaWYgKHRleHRNZXNzYWdlLmRhdGEoJ3RleHQnKSkge1xyXG4gICAgICAgIG1lc3NhZ2VzID0gdGV4dE1lc3NhZ2UuZGF0YSgndGV4dCcpLnNwbGl0KCd8Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbmV4dE1zZyhpKSB7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2VzLmxlbmd0aCA9PSBpKSB7XHJcbiAgICAgICAgICAgIGkgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNMb29waW5nVGV4dEluVmlkZW8pIHtcclxuICAgICAgICAgICAgdGV4dE1lc3NhZ2VTcGFuLmh0bWwobWVzc2FnZXNbaV0pLmZhZGVJbihmYWRlaW4pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRleHRNZXNzYWdlU3Bhbi5odG1sKG1lc3NhZ2VzW2ldKS5zaG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpICsgMTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGN1cnJlbnRUZXh0TG9vcEluZGV4ID0gMDtcclxuICAgIHZhciB2aWRlb1RleHRMb29wSW50ZXJ2YWwgPSBudWxsO1xyXG5cclxuICAgIGZ1bmN0aW9uIHRvZ2dsZVZpZGVvVGV4dE1lc3NhZ2Uoc2hvdykge1xyXG4gICAgICAgIGlzTG9vcGluZ1RleHRJblZpZGVvID0gc2hvdztcclxuICAgICAgICBpZiAoc2hvdykge1xyXG4gICAgICAgICAgICB2aWRlb1RleHRMb29wSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHRleHRNZXNzYWdlU3Bhbi5mYWRlT3V0KGZhZGVPdXQsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0TG9vcEluZGV4ID0gbmV4dE1zZyhjdXJyZW50VGV4dExvb3BJbmRleCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSwgZHVyYXRpb24pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh2aWRlb1RleHRMb29wSW50ZXJ2YWwgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh2aWRlb1RleHRMb29wSW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChsb29wID09IGZhbHNlIHx8IG1lc3NhZ2VzLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgdGV4dE1lc3NhZ2VTcGFuLmh0bWwobWVzc2FnZXNbMF0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0b2dnbGVWaWRlb1RleHRNZXNzYWdlKHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vY29udHJvbCB0aGUgdmlkZW8gYmFubmVyIHBsYXllclxyXG4gICAgLy9zZWxlY3QgdmlkZW8gcGxheWVyIGluIFZpZGVvQmFubmVyQmxvY2tcclxuICAgIHZhciB2aWRlb0N1cnJlbnRUaW1lcyA9IG5ldyBBcnJheSgpOyAvL2dldCBjdXJyZW50IHBsYXlpbmcgdGltZVxyXG4gICAgJChcIiN2aWRlb0Jhbm5lclwiKS5lYWNoKGZ1bmN0aW9uKGluZGV4LCB2aWRlbykge1xyXG4gICAgICAgIHZpZGVvQ3VycmVudFRpbWVzLnB1c2goMCk7XHJcbiAgICAgICAgY3VycmVudFZpZGVvU291cmNlID0gdmlkZW8uc3JjO1xyXG4gICAgICAgIHRvZ2dsZVZpZGVvVGV4dE1lc3NhZ2UoZmFsc2UpO1xyXG5cclxuICAgICAgICAkKHZpZGVvKS5wYXJlbnQoKS5maW5kKCcudmlkZW9CYW5uZXJUZXh0LCAjdmlkZW9CYW5uZXInKS5jbGljayhmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXVzZWQgPSB2aWRlby5wYXVzZWQ7XHJcbiAgICAgICAgICAgIGlmIChwYXVzZWQpIHtcclxuICAgICAgICAgICAgICAgICQoJy52aWRlby1wb3N0ZXInKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcclxuICAgICAgICAgICAgICAgIHZpZGVvLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgIHRvZ2dsZVZpZGVvVGV4dE1lc3NhZ2UodHJ1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKCcudmlkZW8tcG9zdGVyJykuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xyXG4gICAgICAgICAgICAgICAgdmlkZW8ucGF1c2UoKTtcclxuICAgICAgICAgICAgICAgIHRvZ2dsZVZpZGVvVGV4dE1lc3NhZ2UoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgdmlkZW9DdXJyZW50VGltZXNbaW5kZXhdID0gdmlkZW8uY3VycmVudFRpbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9kaXNwbGF5IHBvc3RlciBhZnRlciBmaW5pc2ggdmlkZW8gcGxheWluZ1xyXG4gICAgICAgIHZpZGVvLm9uZW5kZWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkKCk7XHJcbiAgICAgICAgICAgIHRoaXMucGF1c2UoKTtcclxuICAgICAgICAgICAgdmlkZW9DdXJyZW50VGltZXNbaW5kZXhdID0gMDtcclxuICAgICAgICAgICAgY3VycmVudFRleHRMb29wSW5kZXggPSAwO1xyXG4gICAgICAgICAgICAkKCcudmlkZW8tcG9zdGVyJykuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xyXG4gICAgICAgICAgICB0b2dnbGVWaWRlb1RleHRNZXNzYWdlKGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBjaGVja0xvYWQoKSB7XHJcbiAgICAgICAgdmFyIHZpZGVvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWRlb0Jhbm5lclwiKTtcclxuXHJcbiAgICAgICAgaWYgKHZpZGVvICE9IG51bGwgJiYgdmlkZW8gIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmICh2aWRlby5yZWFkeVN0YXRlID09PSA0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXZpZGVvLnBhdXNlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy52aWRlby1wb3N0ZXInKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB0b2dnbGVWaWRlb1RleHRNZXNzYWdlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICQoJy52aWRlby1wb3N0ZXInKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmlkZW8ucGF1c2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy52aWRlby1wb3N0ZXInKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW8ucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVWaWRlb1RleHRNZXNzYWdlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChjaGVja0xvYWQsIDEwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tMb2FkKCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gc2xpZGVJbWFnZXMoZ2FsbGVyeUl0ZW0sIGltYWdlcywgbW91c2VvdmVyTG9vcFRpbWUpIHtcclxuICAgIGlmIChpbWFnZXMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgIGltYWdlcy5lYWNoKGZ1bmN0aW9uKGluZGV4LCBpbWFnZSkge1xyXG4gICAgICAgICAgICBpZiAoJChpbWFnZSkuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgICAgICAkKGltYWdlKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV4dEluZGV4ID0gaW5kZXggKyAxO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRJbmRleCA9PSBpbWFnZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dEluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBuZXh0SW1hZ2UgPSAkKGltYWdlc1tuZXh0SW5kZXhdKTtcclxuICAgICAgICAgICAgICAgIG5leHRJbWFnZS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBnYWxsZXJ5SXRlbS5jc3MoXCJiYWNrZ3JvdW5kLWltYWdlXCIsIFwidXJsKCdcIiArIG5leHRJbWFnZS5hdHRyKCdzcmMnKSArIFwiJylcIik7XHJcbiAgICAgICAgICAgICAgICBtb3VzZW92ZXJ0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZUltYWdlcyhnYWxsZXJ5SXRlbSwgaW1hZ2VzLCBtb3VzZW92ZXJMb29wVGltZSk7XHJcbiAgICAgICAgICAgICAgICB9LCBtb3VzZW92ZXJMb29wVGltZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHNsaWRlRG93bk1haW5NZW51KCkge1xyXG4gICAgdmFyIG1haW5MaXN0ID0gJChcIi5tYWluLW5hdiBsaSBhXCIpO1xyXG4gICAgdmFyIGlzT3ZlclN1Yk1lbnUgPSBmYWxzZTtcclxuICAgIHZhciBpc092ZXJNYWluTWVudSA9IGZhbHNlO1xyXG5cclxuICAgIG1haW5MaXN0LmhvdmVyKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlzT3Zlck1haW5NZW51ID0gdHJ1ZTtcclxuICAgICAgICB2YXIgZGlyZWN0U3ViTWVudSA9ICQoXCIjXCIgKyAkKHRoaXMpLmF0dHIoXCJkYXRhLXBhcmVudC1tZW51XCIpLnJlcGxhY2UoXCIgXCIsIFwiLVwiKSArIFwiLXN1Yi1tZW51XCIpO1xyXG4gICAgICAgICQoXCIuc3ViLW1lbnVcIikuY3NzKHsgb3BhY2l0eTogMCwgdG9wOiAxMDAsIHZpc2liaWxpdHk6IFwiaGlkZGVuXCIgfSk7XHJcbiAgICAgICAgZGlyZWN0U3ViTWVudS5maW5kKFwibGlcIikuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlKSB7XHJcbiAgICAgICAgICAgICQoZWxlKS5yZW1vdmVBdHRyKFwic3R5bGVcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZGlyZWN0U3ViTWVudS5jc3MoeyBvcGFjaXR5OiAxLCB0b3A6IDE5NSwgdmlzaWJpbGl0eTogXCJ2aXNpYmxlXCIgfSk7XHJcbiAgICAgICAgZGlyZWN0U3ViTWVudS5maW5kKFwibGlcIikuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlKSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkKGVsZSkuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgJ29wYWNpdHknOiAxLjAsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3RvcCc6IDBcclxuICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNzAwXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH0sIDEwMCArIChpbmRleCAqIDUwKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBmdW5jdGlvbigpIHtcclxuICAgICAgICBpc092ZXJNYWluTWVudSA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBkaXJlY3RTdWJNZW51ID0gJChcIiNcIiArICQodGhpcykuYXR0cihcImRhdGEtcGFyZW50LW1lbnVcIikucmVwbGFjZShcIiBcIiwgXCItXCIpICsgXCItc3ViLW1lbnVcIik7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKCFpc092ZXJTdWJNZW51KSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3RTdWJNZW51LmNzcyh7IG9wYWNpdHk6IDAsIHRvcDogMTAwLCB2aXNpYmlsaXR5OiBcImhpZGRlblwiIH0pO1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0U3ViTWVudS5maW5kKFwibGlcIikuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChlbGUpLnJlbW92ZUF0dHIoXCJzdHlsZVwiKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMTAwKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoXCIuc3ViLW1lbnVcIikuaG92ZXIoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaXNPdmVyU3ViTWVudSA9IHRydWU7XHJcbiAgICB9LCBmdW5jdGlvbigpIHtcclxuICAgICAgICBpc092ZXJTdWJNZW51ID0gZmFsc2U7XHJcbiAgICAgICAgJChcIi5zdWItbWVudVwiKS5maW5kKFwibGlcIikuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlKSB7XHJcbiAgICAgICAgICAgICQoZWxlKS5yZW1vdmVBdHRyKFwic3R5bGVcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKCFpc092ZXJNYWluTWVudSkgJChcIi5zdWItbWVudVwiKS5jc3MoeyBvcGFjaXR5OiAwLCB0b3A6IDEwMCwgdmlzaWJpbGl0eTogXCJoaWRkZW5cIiB9KTtcclxuICAgICAgICB9LCAxMDApO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNoYXJlUHJpY2VEYXRhU2VsZWN0aW9uKCkge1xyXG4gICAgdmFyIHNoYXJlUHJpY2VUYWJsZSA9ICQoXCIuc2hhcmUtcHJpY2VcIik7XHJcbiAgICB2YXIgc2hhcmVQcmljZUNvbWJvYm94ID0gJChcIi5zaGFyZS1wcmljZSAueWVhcnMtc2VsZWN0aW9uXCIpO1xyXG5cclxuICAgIGlmIChzaGFyZVByaWNlQ29tYm9ib3gpIHtcclxuICAgICAgICBzaGFyZVByaWNlQ29tYm9ib3guY2hhbmdlKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRZZWFyID0gJChcInNlbGVjdCBvcHRpb246c2VsZWN0ZWRcIikudmFsKCk7XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKHNlbGVjdGVkWWVhcikge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIjIwMTBcIjpcclxuICAgICAgICAgICAgICAgICAgICBzaGFyZVByaWNlVGFibGUuZmluZChcIi55ZWFybHlcIikuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNoYXJlUHJpY2VUYWJsZS5maW5kKFwiLnllYXItMjAxMFwiKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiMjAxMlwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHNoYXJlUHJpY2VUYWJsZS5maW5kKFwiLnllYXJseVwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hhcmVQcmljZVRhYmxlLmZpbmQoXCIueWVhci0yMDEyXCIpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCIyMDEzXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgc2hhcmVQcmljZVRhYmxlLmZpbmQoXCIueWVhcmx5XCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBzaGFyZVByaWNlVGFibGUuZmluZChcIi55ZWFyLTIwMTNcIikuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIjIwMTRcIjpcclxuICAgICAgICAgICAgICAgICAgICBzaGFyZVByaWNlVGFibGUuZmluZChcIi55ZWFybHlcIikuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNoYXJlUHJpY2VUYWJsZS5maW5kKFwiLnllYXItMjAxNFwiKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiMjAxNVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHNoYXJlUHJpY2VUYWJsZS5maW5kKFwiLnllYXJseVwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hhcmVQcmljZVRhYmxlLmZpbmQoXCIueWVhci0yMDE1XCIpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzZWFyY2hQbGFjZUhvbGRlcigpIHtcclxuICAgIHZhciBiZ1VybCA9IFwidXJsKCcuLi9pbWFnZXMvc2VhcmNoLnBuZycpXCI7XHJcbiAgICAkKFwiI3NlYXJjaC1zdWItbWVudSAuaW5wdXQtZm9ybVwiKS5vbihcImNoYW5nZSBrZXlkb3duIHBhc3RlIGlucHV0XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICgkKHRoaXMpLnZhbCgpID09IFwiXCIpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5jc3MoXCJiYWNrZ3JvdW5kLWltYWdlXCIsIGJnVXJsKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKHRoaXMpLmNzcyhcImJhY2tncm91bmQtaW1hZ2VcIiwgXCJub25lXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoaWRlTWVudU5hdmlnYXRpb24oKSB7XHJcbiAgICAvLyBmb3IgcmVzaXplIHRvIGhpZGUgbWVudSBuYXZpZ2F0aW9uXHJcbiAgICBpZiAoJChcIi5tYWluLW5hdi1yZXNwb25zaXZlXCIpLmNzcyhcImRpc3BsYXlcIikgIT0gXCJub25lXCIpIHtcclxuICAgICAgICAkKFwiLm1haW4tbmF2LXJlc3BvbnNpdmVcIikuaGlkZSgpO1xyXG4gICAgICAgICQoXCIuaWNvblwiKS5yZW1vdmVDbGFzcyhcIm9wZW5cIik7XHJcbiAgICAgICAgJChcIi5zdWItbWVudS1yZXNwb25zaXZlXCIpLmhpZGUoKTtcclxuICAgICAgICAkKFwiLnN1Yi1tZW51LXJlc3BvbnNpdmVcIikucGFyZW50KCkuZmluZChcImFcIikuY3NzKFwiYm9yZGVyLWJvdHRvbVwiLCBcIjFweCBzb2xpZCAjNzc3Nzc3XCIpO1xyXG4gICAgICAgICQoXCIuc3ViLW1lbnUtcmVzcG9uc2l2ZVwiKS5wYXJlbnQoKS5maW5kKFwiLm5hdi1hcnJvd1wiKS5yZW1vdmVDbGFzcyhcImZhLWFuZ2xlLXVwXCIpLmFkZENsYXNzKFwiZmEtYW5nbGUtZG93blwiKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaG92ZXJPblRvdWNoRGV2aWNlcyhlbGVtZW50LCBjbGFzc1RvUmVtb3ZlKSB7XHJcbiAgICAkKGVsZW1lbnQpLm9uKFwidG91Y2hzdGFydCBNU1BvaW50ZXJEb3duXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKGV2ZW50LnRvdWNoZXMubGVuZ3RoID4gMSkgcmV0dXJuO1xyXG4gICAgICAgICQoXCIudHlwZS1vZi1jYXRlZ29yaWVzIHVsIGxpXCIpLnJlbW92ZUNsYXNzKGNsYXNzVG9SZW1vdmUpO1xyXG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoY2xhc3NUb1JlbW92ZSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gbWluSGVpZ2h0U2xpZGVycygpIHtcclxuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+PSA3NjgpIHtcclxuICAgICAgICAvLyBzZXQgbWluLWhlaWdodCBmb3IgY2Fyb3VzZWwgc2xpZGVyc1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICQoXCIuY2Fyb3VzZWxcIikuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtaW5IZWlnaHQgPSAkKHRoaXMpLmZpbmQoXCIuY2Fyb3VzZWwtaW5uZXJcIikuaGVpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcyh7aGVpZ2h0OiBtaW5IZWlnaHR9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSwgMTAwKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJChcIi5jYXJvdXNlbFwiKS5yZW1vdmVBdHRyKFwic3R5bGVcIik7XHJcbiAgICB9XHJcbn1cclxuXHJcbiQod2luZG93KS5vbihcInJlc2l6ZVwiLCBmdW5jdGlvbigpIHtcclxuICAgIHVwZGF0ZUFuaW1hdGVkQm90dG9tTGluZVBvc2l0aW9uKCk7XHJcbiAgICAvL21pbkhlaWdodFNsaWRlcnMoKTtcclxufSk7XHJcblxyXG4kKHdpbmRvdykub24oXCJvcmllbnRhdGlvbmNoYW5nZVwiLGZ1bmN0aW9uKCl7XHJcbiAgICBoaWRlTWVudU5hdmlnYXRpb24oKTtcclxufSk7XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICBob3Zlck9uVG91Y2hEZXZpY2VzKFwiLnR5cGUtb2YtY2F0ZWdvcmllcyB1bCBsaVwiLCBcImFjdGl2ZVwiKTtcclxuICAgIC8vIHNsaWRlIHRvZ2dsZVxyXG4gICAgJChcIi5idG4tdG9nZ2xlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdGltZUxpbmVGdWxsID0gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCcudGltZWxpbmUtZnVsbCcpO1xyXG4gICAgICAgIHZhciBpc1Zpc2libGUgPSAkKHRpbWVMaW5lRnVsbCkuaXMoXCI6dmlzaWJsZVwiKTtcclxuICAgICAgICAkKCcuYnRuLXRvZ2dsZScpLnJlbW92ZUNsYXNzKCdmYS1hbmdsZS11cCcpLmFkZENsYXNzKCdmYS1hbmdsZS1kb3duJyk7XHJcbiAgICAgICAgJChcIi50aW1lbGluZS1mdWxsXCIpLnNsaWRlVXAoKTtcclxuICAgICAgICBpZiAoaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgICQodGltZUxpbmVGdWxsKS5zbGlkZVVwKCk7XHJcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2ZhLWFuZ2xlLXVwJykuYWRkQ2xhc3MoJ2ZhLWFuZ2xlLWRvd24nKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKHRpbWVMaW5lRnVsbCkuc2xpZGVEb3duKCk7XHJcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2ZhLWFuZ2xlLWRvd24nKS5hZGRDbGFzcygnZmEtYW5nbGUtdXAnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgLy9SRVNQT05TSVZFOiBoZWFkZXIgbmF2aWdhdGlvblxyXG5cclxuICAgICQoXCIuaWNvblwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAkKFwiLm1haW4tbmF2LXJlc3BvbnNpdmVcIikuc2xpZGVUb2dnbGUoKTtcclxuICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdvcGVuJyk7XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICgkKFwiLm1haW4tbmF2LXJlc3BvbnNpdmUgbGkgLnN1Yi1tZW51LXJlc3BvbnNpdmVcIikuY3NzKFwiZGlzcGxheVwiKSAhPSBcIm5vbmVcIikgJChcIi5tYWluLW5hdi1yZXNwb25zaXZlIGxpIC5zdWItbWVudVwiKS5wYXJlbnQoKS5maW5kKFwiYVwiKS5jc3MoXCJib3JkZXJcIiwgXCJub25lXCIpO1xyXG4gICAgJChcIi5tYWluLW5hdi1yZXNwb25zaXZlID4gbGkgPiAubmF2LWFycm93XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGhhc1N1YiA9ICQodGhpcykucGFyZW50KCkuaGFzKFwiLnN1Yi1tZW51LXJlc3BvbnNpdmVcIik7XHJcbiAgICAgICAgdmFyIHN1YiA9ICQodGhpcykucGFyZW50KCkuZmluZChcIi5zdWItbWVudS1yZXNwb25zaXZlXCIpO1xyXG4gICAgICAgIGlmIChzdWIuY3NzKFwiZGlzcGxheVwiKSA9PSBcIm5vbmVcIikge1xyXG4gICAgICAgICAgICBzdWIucGFyZW50KCkuZmluZChcImFcIikuY3NzKFwiYm9yZGVyXCIsIFwibm9uZVwiKTtcclxuICAgICAgICAgICAgc3ViLnNsaWRlRG93bigpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmZpbmQoXCIubmF2LWFycm93XCIpLnJlbW92ZUNsYXNzKFwiZmEtYW5nbGUtZG93blwiKS5hZGRDbGFzcyhcImZhLWFuZ2xlLXVwXCIpO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdWIuc2xpZGVVcChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHN1Yi5wYXJlbnQoKS5maW5kKFwiYVwiKS5jc3MoXCJib3JkZXItYm90dG9tXCIsIFwiMXB4IHNvbGlkICM3Nzc3NzdcIik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmZpbmQoXCIubmF2LWFycm93XCIpLnJlbW92ZUNsYXNzKFwiZmEtYW5nbGUtdXBcIikuYWRkQ2xhc3MoXCJmYS1hbmdsZS1kb3duXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKFwiaHJlZlwiKSA9PSBcIiNcIikgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8vIFJFU1BPTlNJVkU6IGFkZCBjbGVhci1pbnB1dCBidXR0b24gdG8gY2xlYXIgdGV4dCBpbiBzZWFyY2ggdGV4dCBib3hcclxuICAgICQoXCIuZm9ybS1zZWFyY2ggLmNsZWFyLWlucHV0XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5maW5kKFwiLmlucHV0LWZvcm1cIikudmFsKFwiXCIpO1xyXG4gICAgICAgICQodGhpcykucGFyZW50KCkuZmluZChcIi5pbnB1dC1mb3JtXCIpLnZhbChcIlwiKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzbGlkZURvd25NYWluTWVudSgpO1xyXG4gICAgYW5pbWF0ZWRCb3R0b21MaW5lTmF2aWdhdGlvbigpO1xyXG4gICAgdXBkYXRlQW5pbWF0ZWRCb3R0b21MaW5lUG9zaXRpb24oKTtcclxuICAgIHNoYXJlUHJpY2VEYXRhU2VsZWN0aW9uKCk7XHJcbiAgICB2aWRlb1Bvc3RlZENvbnRyb2xsZXIoKTtcclxuICAgIHNlYXJjaFBsYWNlSG9sZGVyKCk7XHJcbiAgICAvL21pbkhlaWdodFNsaWRlcnMoKTtcclxuICAgIHNjcm9sbGluZ0VmZmVjdHMoXCIucXVvdGUtbW9kdWxlXCIsIFwiZmFkZUluVXBcIik7XHJcbn0pO1xyXG5cclxuLy8gY2FsY3VsYXRlIGFuZCBzZXQgLmRyYWdnYWJsZSB3aWR0aFxyXG5cclxuJC5mbi5kcmFnZ2FibGVfbmF2X2NhbGMgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGkpIHtcclxuICAgICAgICB2YXIgJGVsZW1lbnQgPSAkKHRoaXMpO1xyXG4gICAgICAgIGlmICgkZWxlbWVudC5pcyhcIjp2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgIC8vIHggb3IgeVxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5heGlzID09PSBcInhcIikge1xyXG4gICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlXHJcbiAgICAgICAgICAgICAgICB2YXIgbmF2V2lkdGggPSAxO1xyXG4gICAgICAgICAgICAgICAgJGVsZW1lbnQuZmluZChcIj4gKlwiKS5lYWNoKGZ1bmN0aW9uKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBuYXZXaWR0aCArPSAkKHRoaXMpLm91dGVyV2lkdGgodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vIHNldCB3aWR0aFxyXG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudFdpZHRoID0gJGVsZW1lbnQucGFyZW50KCkud2lkdGgoKTtcclxuICAgICAgICAgICAgICAgIGlmIChuYXZXaWR0aCA+IHBhcmVudFdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuY3NzKFwid2lkdGhcIiwgbmF2V2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5jc3MoXCJ3aWR0aFwiLCBwYXJlbnRXaWR0aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5heGlzID09PSBcInlcIikge1xyXG4gICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlXHJcbiAgICAgICAgICAgICAgICB2YXIgbmF2SGVpZ2h0ID0gMTtcclxuICAgICAgICAgICAgICAgICRlbGVtZW50LmZpbmQoXCI+ICpcIikuZWFjaChmdW5jdGlvbihpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmF2SGVpZ2h0ICs9ICQodGhpcykub3V0ZXJIZWlnaHQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vIHNldCBoZWlnaHRcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRIZWlnaHQgPSAkZWxlbWVudC5wYXJlbnQoKS53aWR0aCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5hdkhlaWdodCA+IHBhcmVudEhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRlbGVtZW50LmNzcyhcImhlaWdodFwiLCBuYXZIZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5jc3MoXCJoZWlnaHRcIiwgcGFyZW50SGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5cclxuLy8gY2hlY2sgaW5zaWRlIGJvdW5kc1xyXG5cclxuJC5mbi5kcmFnZ2FibGVfbmF2X2NoZWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGkpIHtcclxuICAgICAgICB2YXIgJGVsZW1lbnQgPSAkKHRoaXMpO1xyXG4gICAgICAgIC8vIGNhbGN1bGF0ZVxyXG4gICAgICAgIHZhciB3ID0gJGVsZW1lbnQud2lkdGgoKTtcclxuICAgICAgICB2YXIgcHcgPSAkZWxlbWVudC5wYXJlbnQoKS53aWR0aCgpO1xyXG4gICAgICAgIHZhciBtYXhQb3NMZWZ0ID0gMDtcclxuICAgICAgICBpZiAodyA+IHB3KSB7XHJcbiAgICAgICAgICAgIG1heFBvc0xlZnQgPSAtKHcgLSBwdyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBoID0gJGVsZW1lbnQuaGVpZ2h0KCk7XHJcbiAgICAgICAgdmFyIHBoID0gJGVsZW1lbnQucGFyZW50KCkuaGVpZ2h0KCk7XHJcbiAgICAgICAgdmFyIG1heFBvc1RvcCA9IDA7XHJcbiAgICAgICAgaWYgKGggPiBwaCkge1xyXG4gICAgICAgICAgICBtYXhQb3NUb3AgPSBoIC0gcGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGhvcml6b250YWxcclxuICAgICAgICB2YXIgbGVmdCA9IHBhcnNlSW50KCRlbGVtZW50WzBdLnN0eWxlLmxlZnQpO1xyXG4gICAgICAgIGlmIChsZWZ0ID4gMCkge1xyXG4gICAgICAgICAgICAkZWxlbWVudC5jc3MoXCJsZWZ0XCIsIDApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobGVmdCA8IG1heFBvc0xlZnQpIHtcclxuICAgICAgICAgICAgJGVsZW1lbnQuY3NzKFwibGVmdFwiLCBtYXhQb3NMZWZ0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdmVydGljYWxcclxuICAgICAgICB2YXIgdG9wID0gcGFyc2VJbnQoJGVsZW1lbnRbMF0uc3R5bGUudG9wKTtcclxuICAgICAgICBpZiAodG9wID4gMCkge1xyXG4gICAgICAgICAgICAkZWxlbWVudC5jc3MoXCJ0b3BcIiwgMCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0b3AgPCBtYXhQb3NUb3ApIHtcclxuICAgICAgICAgICAgJGVsZW1lbnQuY3NzKFwidG9wXCIsIG1heFBvc1RvcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG4vLyBpbml0IGRyYWdnYWJsZSBuYXZcclxuXHJcbiQuZm4uZHJhZ2dhYmxlX25hdiA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oaSkge1xyXG4gICAgICAgIHZhciAkZWxlbWVudCA9ICQodGhpcyk7XHJcbiAgICAgICAgLy8gY2FsY3VsYXRlIGZpcnN0IHRpbWUsIGFmdGVyIGRlbGF5IHRvIGZpeCByZXNpemUgYnVnc1xyXG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgJGVsZW1lbnQuZHJhZ2dhYmxlX25hdl9jYWxjKG9wdGlvbnMpO1xyXG4gICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgLy8gb24gc2hvd24gdGFicyByZWNhbGN1bGF0ZVxyXG4gICAgICAgICRlbGVtZW50LmZpbmQoJ1tkYXRhLXRvZ2dsZT1cInRhYlwiXScpLm9uKCdzaG93bi5icy50YWInLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICRlbGVtZW50LmRyYWdnYWJsZV9uYXZfY2FsYyhvcHRpb25zKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBvbiByZXNpemUgcmVjYWxjdWxhdGVcclxuICAgICAgICBmdW5jdGlvbiBkcmFnZ2FibGVfbmF2X3Jlc2l6ZV9hZnRlcigpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KCRlbGVtZW50LmRhdGEoXCJkcmFnZ2FibGVfbmF2X3RpbWVvdXRcIikpO1xyXG4gICAgICAgICAgICB2YXIgdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICRlbGVtZW50LmRyYWdnYWJsZV9uYXZfY2FsYyhvcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICRlbGVtZW50LmRyYWdnYWJsZV9uYXZfY2hlY2soKTtcclxuICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgICRlbGVtZW50LmRhdGEoXCJkcmFnZ2FibGVfbmF2X3RpbWVvdXRcIiwgdGltZW91dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQod2luZG93KS5vbigncmVzaXplJywgZHJhZ2dhYmxlX25hdl9yZXNpemVfYWZ0ZXIpO1xyXG4gICAgICAgICQod2luZG93KS5vbignc2Nyb2xsJywgZHJhZ2dhYmxlX25hdl9yZXNpemVfYWZ0ZXIpO1xyXG4gICAgICAgIC8vIGNlbnRlciBjbGlja2VkIGVsZW1lbnRcclxuICAgICAgICBpZiAoJGVsZW1lbnQuaGFzQ2xhc3MoXCJkcmFnZ2FibGUtY2VudGVyXCIpKSB7XHJcbiAgICAgICAgICAgICRlbGVtZW50LmZpbmQoJ2xpIGFbZGF0YS10b2dnbGU9XCJ0YWJcIl0nKS5vbihcInNob3duLmJzLnRhYlwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgJGNvbnRhaW5lciA9ICQodGhpcykucGFyZW50cyhcIi5kcmFnZ2FibGUtY29udGFpbmVyXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyICRsaSA9ICQodGhpcykucGFyZW50cyhcImxpXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuYXhpcyA9PT0gXCJ4XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGVmdCA9IC0kbGkucG9zaXRpb24oKS5sZWZ0ICsgJGNvbnRhaW5lci5vdXRlcldpZHRoKCkgLyAyIC0gJGxpLm91dGVyV2lkdGgoKSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuY3NzKFwibGVmdFwiLCBsZWZ0KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5heGlzID09PSBcInlcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b3AgPSAtJGxpLnBvc2l0aW9uKCkudG9wICsgJGNvbnRhaW5lci5vdXRlcldpZHRoKCkgLyAyIC0gJGxpLm91dGVyV2lkdGgoKSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuY3NzKFwidG9wXCIsIHRvcCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBwdXQgaW5zaWRlIGJvdW5kc1xyXG4gICAgICAgICAgICAgICAgJGVsZW1lbnQuZHJhZ2dhYmxlX25hdl9jaGVjaygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufTtcclxuJChcIi5kcmFnZ2FibGVcIikuZHJhZ2dhYmxlX25hdih7XHJcbiAgICBheGlzOiAneCcgLy8gb25seSBob3Jpem9udGFsbHlcclxufSk7XHJcblxyXG4vLyBqcXVlcnkgdWkgZHJhZ2dhYmxlXHJcblxyXG4kKFwiLmRyYWdnYWJsZVwiKS5kcmFnZ2FibGUoe1xyXG4gICAgYXhpczogJ3gnLCAvLyBvbmx5IGhvcml6b250YWxseVxyXG4gICAgZHJhZzogZnVuY3Rpb24oZSwgdWkpIHtcclxuICAgICAgICB2YXIgJGVsZW1lbnQgPSB1aS5oZWxwZXI7XHJcbiAgICAgICAgLy8gY2FsY3VsYXRlXHJcbiAgICAgICAgdmFyIHcgPSAkZWxlbWVudC53aWR0aCgpO1xyXG4gICAgICAgIHZhciBwdyA9ICRlbGVtZW50LnBhcmVudCgpLndpZHRoKCk7XHJcbiAgICAgICAgdmFyIG1heFBvc0xlZnQgPSAwO1xyXG4gICAgICAgIGlmICh3ID4gcHcpIHtcclxuICAgICAgICAgICAgbWF4UG9zTGVmdCA9IC0odyAtIHB3KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGggPSAkZWxlbWVudC5oZWlnaHQoKTtcclxuICAgICAgICB2YXIgcGggPSAkZWxlbWVudC5wYXJlbnQoKS5oZWlnaHQoKTtcclxuICAgICAgICB2YXIgbWF4UG9zVG9wID0gMDtcclxuICAgICAgICBpZiAoaCA+IHBoKSB7XHJcbiAgICAgICAgICAgIG1heFBvc1RvcCA9IGggLSBwaDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaG9yaXpvbnRhbFxyXG4gICAgICAgIGlmICh1aS5wb3NpdGlvbi5sZWZ0ID4gMCkge1xyXG4gICAgICAgICAgICB1aS5wb3NpdGlvbi5sZWZ0ID0gMDtcclxuICAgICAgICB9IGVsc2UgaWYgKHVpLnBvc2l0aW9uLmxlZnQgPCBtYXhQb3NMZWZ0KSB7XHJcbiAgICAgICAgICAgIHVpLnBvc2l0aW9uLmxlZnQgPSBtYXhQb3NMZWZ0O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB2ZXJ0aWNhbFxyXG4gICAgICAgIGlmICh1aS5wb3NpdGlvbi50b3AgPiAwKSB7XHJcbiAgICAgICAgICAgIHVpLnBvc2l0aW9uLnRvcCA9IDA7XHJcbiAgICAgICAgfSBlbHNlIGlmICh1aS5wb3NpdGlvbi50b3AgPCBtYXhQb3NUb3ApIHtcclxuICAgICAgICAgICAgdWkucG9zaXRpb24udG9wID0gbWF4UG9zVG9wO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBqcXVleSBkcmFnZ2FibGUgYWxzbyBvbiB0b3VjaCBkZXZpY2VzXHJcbi8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTE4NjQ0MS9qYXZhc2NyaXB0LWRyYWctYW5kLWRyb3AtZm9yLXRvdWNoLWRldmljZXNcclxuXHJcbmZ1bmN0aW9uIHRvdWNoSGFuZGxlcihlKSB7XHJcbiAgICB2YXIgdG91Y2ggPSBlLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07XHJcbiAgICB2YXIgc2ltdWxhdGVkRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIk1vdXNlRXZlbnRcIik7XHJcbiAgICBzaW11bGF0ZWRFdmVudC5pbml0TW91c2VFdmVudCh7XHJcbiAgICAgICAgICAgIHRvdWNoc3RhcnQ6IFwibW91c2Vkb3duXCIsXHJcbiAgICAgICAgICAgIHRvdWNobW92ZTogXCJtb3VzZW1vdmVcIixcclxuICAgICAgICAgICAgdG91Y2hlbmQ6IFwibW91c2V1cFwiXHJcbiAgICAgICAgfVtlLnR5cGVdLCB0cnVlLCB0cnVlLCB3aW5kb3csIDEsXHJcbiAgICAgICAgdG91Y2guc2NyZWVuWCwgdG91Y2guc2NyZWVuWSxcclxuICAgICAgICB0b3VjaC5jbGllbnRYLCB0b3VjaC5jbGllbnRZLCBmYWxzZSxcclxuICAgICAgICBmYWxzZSwgZmFsc2UsIGZhbHNlLCAwLCBudWxsKTtcclxuICAgIHRvdWNoLnRhcmdldC5kaXNwYXRjaEV2ZW50KHNpbXVsYXRlZEV2ZW50KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcHJldmVudFBhZ2VTY3JvbGwoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0VG91Y2hIYW5kbGVyKCRlbGVtZW50KSB7XHJcbiAgICAkZWxlbWVudC5vbihcInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsXCIsIHRvdWNoSGFuZGxlcik7XHJcbiAgICAkZWxlbWVudC5vbihcInRvdWNobW92ZVwiLCBwcmV2ZW50UGFnZVNjcm9sbCk7XHJcbn1cclxuaW5pdFRvdWNoSGFuZGxlcigkKFwiLmRyYWdnYWJsZVwiKSk7XHJcblxyXG5cclxuJCgnLmZvcm0nKS52YWxpZGEoKTtcclxuLyoqKioqKioqKioqKioqKioqKioqKioqTmdvYyBUcmFuKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+PSA3NjgpIHtcclxuICAgICAgICBlcXVhbHNfaGVpZ2h0KCk7XHJcbiAgICB9XHJcbiAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBlcXVhbHNfaGVpZ2h0KCk7XHJcbiAgICAgICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgNzY4KSAkKCcuZXF1YWwtaGVpZ2h0JykucmVtb3ZlQXR0cignc3R5bGUnKTtcclxuICAgIH0pO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGVxdWFsc19oZWlnaHQoKSB7XHJcbiAgICAkKCcuZXF1YWwtaGVpZ2h0JykucmVtb3ZlQXR0cignc3R5bGUnKTtcclxuICAgICQoJy5lcXVhbC1oZWlnaHQtY29udGFpbmVyJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gQ2FjaGUgdGhlIGhpZ2hlc3RcclxuICAgICAgICB2YXIgaGlnaGVzdEJveCA9IDA7XHJcbiAgICAgICAgLy8gU2VsZWN0IGFuZCBsb29wIHRoZSBlbGVtZW50cyB5b3Ugd2FudCB0byBlcXVhbGlzZVxyXG4gICAgICAgICQoJy5lcXVhbC1oZWlnaHQnLCB0aGlzKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhpcyBib3ggaXMgaGlnaGVyIHRoYW4gdGhlIGNhY2hlZCBoaWdoZXN0IHRoZW4gc3RvcmUgaXRcclxuICAgICAgICAgICAgaWYgKCQodGhpcykuaGVpZ2h0KCkgPiBoaWdoZXN0Qm94KSB7XHJcbiAgICAgICAgICAgICAgICBoaWdoZXN0Qm94ID0gJCh0aGlzKS5oZWlnaHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFNldCB0aGUgaGVpZ2h0IG9mIGFsbCB0aG9zZSBjaGlsZHJlbiB0byB3aGljaGV2ZXIgd2FzIGhpZ2hlc3QgXHJcbiAgICAgICAgJCgnLmVxdWFsLWhlaWdodCcsIHRoaXMpLmhlaWdodChoaWdoZXN0Qm94KTtcclxuICAgIH0pO1xyXG59XHJcbnZhciBvd2wgPSAkKCcuc2xpZGUtaW5uZXIta3RtJyk7XHJcbmZ1bmN0aW9uIGNhcnJlZXJfcGF0aF9jYXJvdXNlbCgpIHtcclxuICAgIHZhciBvcHRpb24gPSB7XHJcbiAgICAgICAgcmVzcG9uc2l2ZUNsYXNzOiB0cnVlLFxyXG4gICAgICAgIGl0ZW1zOiAxLFxyXG4gICAgICAgIHJlc3BvbnNpdmU6IHtcclxuICAgICAgICAgICAgMTY2MDogeyBpdGVtczogMyB9LFxyXG4gICAgICAgICAgICAxMjAwOiB7IGl0ZW1zOiAyIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHNtYXJ0U3BlZWQ6IDUwMCxcclxuICAgICAgICBsb29wOiBmYWxzZSxcclxuICAgICAgICBuYXY6IGZhbHNlLFxyXG4gICAgICAgIGRvdHM6IHRydWUsXHJcbiAgICB9O1xyXG4gICAgb3dsLm93bENhcm91c2VsKG9wdGlvbik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldEluZGljYXRvckluZGV4KCkge1xyXG4gICAgdmFyIGRvdF9pbmRleCA9IDA7XHJcbiAgICB2YXIgaW5kaWNhdG9yc19jb250ZW50cyA9ICcnO1xyXG4gICAgJCgnLm93bC1kb3RzIC5vd2wtZG90JykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaW5kaWNhdG9yc19jb250ZW50cyArPSAnPGxpPjwvbGk+JztcclxuICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgZG90X2luZGV4ID0gJCh0aGlzKS5pbmRleCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgJCgnLm93bC1pbmRpY2F0b3JzJykuaHRtbCgnJykuYXBwZW5kKGluZGljYXRvcnNfY29udGVudHMpO1xyXG4gICAgJCgnLm93bC1pbmRpY2F0b3JzJykuZmluZChcImxpXCIpLmVxKGRvdF9pbmRleCkuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG59XHJcbmZ1bmN0aW9uIGFjdGl2ZUluZGljYXRvcihjb250YWluZXIpIHtcclxuICAgIHZhciBkb3RfaW5kZXggPSAwO1xyXG4gICAgJCgnLm93bC1kb3QnKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgZG90X2luZGV4ID0gJCh0aGlzKS5pbmRleCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgY29udGFpbmVyLmZpbmQoJy5vd2wtaW5kaWNhdG9ycyBsaScpLmVxKGRvdF9pbmRleCkuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG59XHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgIGNhcnJlZXJfcGF0aF9jYXJvdXNlbCgpO1xyXG4gICAgc2V0SW5kaWNhdG9ySW5kZXgoKTtcclxuICAgICQoJy5vd2wtaW5kaWNhdG9ycyBsaScpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3NlbGYgPSAkKHRoaXMpO1xyXG4gICAgICAgIF9zZWxmLmFkZENsYXNzKCdhY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICBfc2VsZi5wYXJlbnRzKCcuc2xpZGUnKS5maW5kKCcub3dsLXRoZW1lIC5vd2wtZG90cyAub3dsLWRvdCcpLmVxKF9zZWxmLmluZGV4KCkpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICB9KTtcclxuICAgIG93bC5vbignY2hhbmdlZC5vd2wuY2Fyb3VzZWwnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGFjdGl2ZUluZGljYXRvcihvd2wucGFyZW50cygnLmNhcm91c2VsJykpO1xyXG4gICAgfSk7XHJcbiAgICAkKFwiLmNhcm91c2VsXCIpLnN3aXBlcmlnaHQoZnVuY3Rpb24oKSB7ICBcclxuICAgICAgICAkKHRoaXMpLmNhcm91c2VsKCdwcmV2Jyk7ICBcclxuICAgIH0pOyAgXHJcbiAgICAkKFwiLmNhcm91c2VsXCIpLnN3aXBlbGVmdChmdW5jdGlvbigpIHsgIFxyXG4gICAgICAgICQodGhpcykuY2Fyb3VzZWwoJ25leHQnKTsgIFxyXG4gICAgfSk7ICBcclxufSk7ICBcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9qcy9jb21tb24uanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9