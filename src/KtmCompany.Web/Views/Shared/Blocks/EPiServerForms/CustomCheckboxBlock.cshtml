@using EPiServer.Forms.Helpers
@using EPiServer.Forms.Implementation.Validation
@model KtmCompany.Web.Models.BlockTypes.EPiServerForms.CustomCheckboxBlock

@{
    var formElement = Model.FormElement;
    var labelText = Model.Label;
    var isRequireField = Model.GetElementValidators().OfType<RequiredValidator>().Any();
}

<div class="Form__Element FormChoice input-field CustomCheckboxBlock notice" id="@formElement.Guid" data-epiforms-element-name="@formElement.Code" @formElement.AttributesString>
    <div class="Form__Element__ValidationError at-error" style="display: none" data-epiforms-linked-name="@formElement.Code">        
    </div>
    <div style="float: left; width: 100%;" class="CustomCheckboxContainer">
        <input type="checkbox" name="@formElement.Code" class="FormChoice__Input FormChoice__Input--Checkbox" value="@formElement.Value" onchange="formElementValueChanged(this.parentElement.parentElement);">
        <div class="FormChoice__Description">
            @if (isRequireField)
            {
                <span class="icon-require FormChoice__Description-Star">*</span>
            }
            @Html.Raw(Model.CustomLabel)
        </div>
    </div>
    <div style="clear: both"></div>
</div>